[{"/home/bhargav/Documents/Projects/Javascript/curiosite/src/index.js":"1","/home/bhargav/Documents/Projects/Javascript/curiosite/src/pages/HomeMain.js":"2","/home/bhargav/Documents/Projects/Javascript/curiosite/src/actions/userSessionActions.js":"3","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/MainNavigation.js":"4","/home/bhargav/Documents/Projects/Javascript/curiosite/src/reducers/feedReducer.js":"5","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/Profile.js":"6","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/SingleQuestion.js":"7","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/Feeds.js":"8","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/Post.js":"9","/home/bhargav/Documents/Projects/Javascript/curiosite/src/util/timeFormat.js":"10","/home/bhargav/Documents/Projects/Javascript/curiosite/src/pages/Home.js":"11","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/Create.js":"12","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Widgets/Widgets.js":"13"},{"size":434,"mtime":1610274402322,"results":"14","hashOfConfig":"15"},{"size":1705,"mtime":1633606437540,"results":"16","hashOfConfig":"15"},{"size":381,"mtime":1633369063483,"results":"17","hashOfConfig":"15"},{"size":1031,"mtime":1633781255545,"results":"18","hashOfConfig":"15"},{"size":170,"mtime":1632419882961,"results":"19","hashOfConfig":"15"},{"size":5906,"mtime":1633605026702,"results":"20","hashOfConfig":"15"},{"size":10678,"mtime":1633604391209,"results":"21","hashOfConfig":"15"},{"size":4400,"mtime":1633605366639,"results":"22","hashOfConfig":"15"},{"size":1391,"mtime":1633606824073,"results":"23","hashOfConfig":"15"},{"size":697,"mtime":1633531859136,"results":"24","hashOfConfig":"15"},{"size":294,"mtime":1633606744228,"results":"25","hashOfConfig":"15"},{"size":8119,"mtime":1633604832382,"results":"26","hashOfConfig":"15"},{"size":3107,"mtime":1633603798038,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1f5umv4",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/bhargav/Documents/Projects/Javascript/curiosite/src/index.js",[],["58","59"],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/pages/HomeMain.js",["60","61"],"import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Cookies from \"universal-cookie\";\n\nimport Home from \"./Home\";\nimport Login from \"./Login\";\nimport { loginUser } from \"../actions/userSessionActions\";\nimport { setToHome } from \"../actions/feedStatusActions\";\n\nexport default function HomeMain() {\n  const dispatch = useDispatch();\n  const [isAuth, authModify] = useState(false);\n  const [tokenSet, tokenSetModify] = useState(false);\n  const user = useSelector((state) => state.user);\n\n  useEffect(() => {\n    if (isAuth === false) {\n      const cookies = new Cookies();\n      const timerId = setInterval(() => {\n        const token = cookies.get(\"idToken\");\n        if (token) {\n          tokenSetModify(true);\n          clearInterval(timerId);\n        }\n      }, 100);\n    }\n  }, [isAuth]);\n  useEffect(() => {\n    const makeUserAuthRequest = async () => {\n      if (tokenSet) {\n        const token = new Cookies().get(\"idToken\");\n        tokenSetModify(false);\n        const res = await fetch(\"http://localhost:5000/googleAuth\", {\n          method: \"POST\",\n          headers: {\n            Authorization: \"Bearer \" + token,\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n          },\n        });\n        const data = await res.json();\n        if(!data.error)\n        {\n            const { firstName, lastName, email, id, tags } = data.user;\n            dispatch(loginUser(firstName, lastName, email, id, tags));\n            dispatch(setToHome());\n            authModify(true);\n        }\n      }\n    };\n    makeUserAuthRequest();\n  }, [tokenSet]);\n  return isAuth === false ? <Login /> : <Home />;\n}\n","/home/bhargav/Documents/Projects/Javascript/curiosite/src/actions/userSessionActions.js",[],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/MainNavigation.js",[],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/reducers/feedReducer.js",[],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/Profile.js",["62"],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/SingleQuestion.js",["63","64","65"],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/Feeds.js",["66"],"import { React, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect } from 'react-router-dom'\nimport Cookies from \"universal-cookie\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport Post from \"./Post\";\n\nimport Loader from \"react-loader-spinner\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"column\",\n    alignItems: \"center\",\n    maxWidth: 4000,\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nexport default function Feeds(props) {\n  const [isAuth, setAuth] = useState(true)\n  const [feedState, modifyFeedState] = useState({\n    feedList: [],\n    skipPage: 0,\n    tagsQuestionListSaturated: false,\n    totalQuestionListSaturated: false,\n    feedFetchDateTime: new Date().getTime(),\n  });\n  const feed = useSelector((state) => state.feed);\n  //Add loading state\n\n\n  const createFollowsFeed = async () => {\n    const idToken = new Cookies().get(\"idToken\")\n    const fetchUri =\n      \"http://localhost:5000/follows_questions?limit=5&skip=\" +\n      feedState.skipPage +\n      \"&date=\" +\n      feedState.feedFetchDateTime;\n    const res = await fetch(fetchUri, {\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + idToken,\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        tags: [],\n        tagsQuestionListSaturated: feedState.tagsQuestionListSaturated,\n      }),\n    });\n    const data = await res.json();\n    if (!data.error) {\n      const newFeedState = { ...feedState };\n      newFeedState.tagsQuestionListSaturated = data.tagsQuestionListSaturated;\n      newFeedState.totalQuestionListSaturated = data.totalQuestionListSaturated;\n      if (data.questionList.length !== 0)\n        newFeedState.feedFetchDateTime =\n          data.questionList[data.questionList.length - 1].creationTime;\n      newFeedState.feedList = newFeedState.feedList.concat(data.questionList);\n      modifyFeedState(newFeedState);\n    } else {\n      //Handle error\n      //If unauthenticated redirect to login page\n      if(data.error === 'Please authenticate!')\n        setAuth(false)\n    }\n  };\n\n  const createTagFeed = async (tag) => {\n    const idToken = new Cookies().get(\"idToken\")\n    const fetchUri =\n      \"http://localhost:5000/tag_questions?limit=5&skip=\" +\n      feedState.skipPage +\n      \"&date=\" +\n      feedState.feedFetchDateTime;\n    const res = await fetch(fetchUri, {\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + idToken,\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        tags: [tag]\n      }),\n    });\n    const data = await res.json();\n    if (!data.error) {\n      const newFeedState = { ...feedState };\n      newFeedState.totalQuestionListSaturated = data.questionListSaturated;\n      if (data.questionList.length !== 0)\n        newFeedState.feedFetchDateTime =\n          data.questionList[data.questionList.length - 1].creationTime;\n      newFeedState.feedList = newFeedState.feedList.concat(data.questionList);\n      modifyFeedState(newFeedState);\n    } else {\n      //Handle error\n      //If unauthenticated redirect to login page\n      if(data.error === 'Please authenticate')\n        setAuth(false)\n    }\n  }\n\n  const createFeed = () => {\n    if(props.page === \"tag\")\n        createTagFeed(props.tag)\n    else\n        createFollowsFeed();\n  };\n\n  const classes = useStyles();\n  const loader = (\n    <div className=\"loader\" style={{\n        width: \"100%\",\n        textAlign: \"center\"\n    }}>\n      <Button variant=\"primary\" style={{\n          display: \"inline-block\"\n      }} disabled>\n        <Loader\n        type=\"Puff\"\n        height={40}\n        width={40}\n        color=\"#1D92FF\"\n        />\n      </Button>\n    </div>\n  );\n\n  return (\n    isAuth===false?<Redirect to=\"/\"/>:\n    <div className={classes.root}>\n      <InfiniteScroll\n        pageStart={0}\n        loadMore={createFeed}\n        hasMore={!feedState.totalQuestionListSaturated}\n        loader={loader}\n        threshold={0}\n      >\n        <div>\n          {feedState.feedList.map((question, index) => {\n            return <Post key={index} questionData={question} />;\n          })}\n        </div>\n      </InfiniteScroll>\n    </div>\n  );\n}\n","/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Feeds/Post.js",["67","68"],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/util/timeFormat.js",["69"],"import date from 'date-and-time'\n\nexport default function(dateTime){\n    const now = new Date()\n    const given = new Date(dateTime)\n    if(date.isSameDay(now, given))\n    {\n        const nowHour = date.format(now, 'H')\n        const givenHour = date.format(given, 'H')\n        if(nowHour === givenHour)\n        {\n            const minutesElapsed = parseInt(date.format(now, 'm') - parseInt(date.format(given, 'm')))\n            return `Posted ${minutesElapsed} minute${minutesElapsed===1?'':'s'} ago`\n        }\n        else\n            return `Posted ${nowHour - givenHour} hour${(nowHour-givenHour)===1?'':'s'} ago`\n    }\n    else\n        return `Posted on ${date.format(given, 'DD-MM-YYYY')}`\n}","/home/bhargav/Documents/Projects/Javascript/curiosite/src/pages/Home.js",[],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Header/Create.js",["70","71","72"],"/home/bhargav/Documents/Projects/Javascript/curiosite/src/components/home/Widgets/Widgets.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":14,"column":9,"nodeType":"79","messageId":"80","endLine":14,"endColumn":13},{"ruleId":"81","severity":1,"message":"82","line":52,"column":6,"nodeType":"83","endLine":52,"endColumn":16,"suggestions":"84"},{"ruleId":"81","severity":1,"message":"85","line":41,"column":8,"nodeType":"83","endLine":41,"endColumn":17,"suggestions":"86"},{"ruleId":"77","severity":1,"message":"87","line":6,"column":27,"nodeType":"79","messageId":"80","endLine":6,"endColumn":32},{"ruleId":"77","severity":1,"message":"88","line":17,"column":45,"nodeType":"79","messageId":"80","endLine":17,"endColumn":57},{"ruleId":"81","severity":1,"message":"89","line":118,"column":6,"nodeType":"83","endLine":118,"endColumn":19,"suggestions":"90"},{"ruleId":"77","severity":1,"message":"91","line":31,"column":9,"nodeType":"79","messageId":"80","endLine":31,"endColumn":13},{"ruleId":"77","severity":1,"message":"92","line":2,"column":17,"nodeType":"79","messageId":"80","endLine":2,"endColumn":27},{"ruleId":"77","severity":1,"message":"93","line":3,"column":8,"nodeType":"79","messageId":"80","endLine":3,"endColumn":19},{"ruleId":"94","severity":1,"message":"95","line":3,"column":1,"nodeType":"96","endLine":20,"endColumn":2},{"ruleId":"81","severity":1,"message":"97","line":95,"column":6,"nodeType":"83","endLine":95,"endColumn":15,"suggestions":"98"},{"ruleId":"81","severity":1,"message":"99","line":106,"column":6,"nodeType":"83","endLine":106,"endColumn":29,"suggestions":"100"},{"ruleId":"101","severity":1,"message":"102","line":227,"column":37,"nodeType":"103","messageId":"104","endLine":227,"endColumn":39},"no-native-reassign",["105"],"no-negated-in-lhs",["106"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["107"],"React Hook useEffect has missing dependencies: 'tags.length', 'totalTags', and 'user.tags'. Either include them or remove the dependency array.",["108"],"'Paper' is defined but never used.","'questionData' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'requestAnswers'. Either include it or remove the dependency array.",["109"],"'feed' is assigned a value but never used.","'forwardRef' is defined but never used.","'InputOption' is defined but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","React Hook useEffect has missing dependencies: 'tags.length' and 'totalTags'. Either include them or remove the dependency array.",["110"],"React Hook useEffect has missing dependencies: 'newUser' and 'status'. Either include them or remove the dependency array.",["111"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [dispatch, tokenSet]",{"range":"122","text":"123"},"Update the dependencies array to be: [allTags, tags.length, totalTags, user.tags]",{"range":"124","text":"125"},"Update the dependencies array to be: [initRequest, requestAnswers]",{"range":"126","text":"127"},"Update the dependencies array to be: [allTags, tags.length, totalTags]",{"range":"128","text":"129"},"Update the dependencies array to be: [user, result, history, status, newUser]",{"range":"130","text":"131"},[1640,1650],"[dispatch, tokenSet]",[1423,1432],"[allTags, tags.length, totalTags, user.tags]",[3859,3872],"[initRequest, requestAnswers]",[2545,2554],"[allTags, tags.length, totalTags]",[2730,2753],"[user, result, history, status, newUser]"]