(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(e,t,n){},169:function(e,t,n){},172:function(e,t,n){},191:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},201:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(20),s=n.n(i),o=(n(163),n(29)),j=n(24),u=n(28),l=n(19),d=n.n(l),h=n(27),b=n(11),O=n(30),p=n(23),x=n(279),f=n(280),m=n(281),g=n(300),v=n(282),y=n(304),w=n(211),N=n(283),S=n(284),T=n(133),k=n.n(T),_=n(303);n(169);var A=function(e){var t=e.avatar,n=e.Icon,c=e.title;return Object(a.jsxs)("div",{className:"HeaderOption",children:[n&&Object(a.jsx)(n,{className:"headerOption__icon",src:n}),t&&Object(a.jsx)(_.a,{className:"headerOption__icon",src:t}),Object(a.jsx)("h3",{className:"headerOption__title",children:c})]})},L=n(131),C=n.n(L),q=n(132),z=n.n(q),P=[{label:"Home",href:"/",icon:C.a},{label:"Create",href:"/create_post",icon:z.a},{label:"Profile",href:"/profile",avatar:"/broken-image.jpg"}],B=Object(x.a)((function(){return{header:{backgroundColor:"#323232",paddingRight:"79px",paddingLeft:"118px","@media (max-width: 900px)":{paddingLeft:0}},logoHeader:{padding:"20px",backgroundColor:"#323232",fontFamily:"Open Sans, sans-serif",color:"White"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FF0000",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"},drawerContainer:{padding:"20px 30px"}}}));function E(){var e=B(),t=e.header,n=e.logo,r=e.menuButton,i=e.toolbar,s=e.drawerContainer,j=e.logoHeader,u=Object(c.useState)({mobileView:!1,drawerOpen:!1}),l=Object(b.a)(u,2),d=l[0],h=l[1],O=d.mobileView,x=d.drawerOpen;Object(c.useEffect)((function(){var e=function(){return window.innerWidth<900?h((function(e){return Object(p.a)(Object(p.a)({},e),{},{mobileView:!0})})):h((function(e){return Object(p.a)(Object(p.a)({},e),{},{mobileView:!1})}))};e(),window.addEventListener("resize",(function(){return e()}))}),[]);var T=function(){return P.map((function(e){var t=e.label,n=e.href,c=e.icon,r=e.avatar;return Object(a.jsx)(v.a,Object(p.a)(Object(p.a)({},{component:o.b,to:n,color:"inherit",style:{textDecoration:"none"},key:t}),{},{children:Object(a.jsx)(y.a,{children:Object(a.jsx)(A,{Icon:c,avatar:r,title:t})})}))}))},_=Object(a.jsx)(w.a,{variant:"h5",component:"h1",className:n,children:"Curiosite"}),L=function(){return P.map((function(e){var t=e.label,n=e.href;return Object(a.jsx)(N.a,Object(p.a)(Object(p.a)({},{key:t,color:"inherit",to:n,component:o.b,className:r}),{},{children:t}))}))};return Object(a.jsx)("header",{children:Object(a.jsx)(S.a,{className:t,children:O?Object(a.jsxs)(f.a,{children:[Object(a.jsx)(m.a,Object(p.a)(Object(p.a)({},{edge:"start",color:"inherit","aria-label":"menu","aria-haspopup":"true",onClick:function(){return h((function(e){return Object(p.a)(Object(p.a)({},e),{},{drawerOpen:!0})}))}}),{},{children:Object(a.jsx)(k.a,{})})),Object(a.jsxs)(g.a,Object(p.a)(Object(p.a)({},{anchor:"left",open:x,onClose:function(){return h((function(e){return Object(p.a)(Object(p.a)({},e),{},{drawerOpen:!1})}))}}),{},{children:[Object(a.jsx)("div",{className:j,children:Object(a.jsx)("h2",{children:"  Curiosite"})}),Object(a.jsx)("div",{className:s,children:T()})]})),Object(a.jsx)("div",{children:_})]}):Object(a.jsxs)(f.a,{className:i,children:[_,Object(a.jsx)("div",{children:L()})]})})})}n(172);function F(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(E,{}),Object(a.jsx)("div",{className:"content_body",children:e.children})]})}var H=n(15),I=n(306),D=n(308),W=n(309),Q=n(302),J=n(297),G=n(305),M=n(295),R=n(66),V=n.n(R),Y=function(e,t,n,a,c){return{type:"LOGIN",payload:{firstName:e,lastName:t,email:n,id:a,tags:c}}},U=function(e){return{type:"PATCH TAGS",payload:e}},Z=(n(191),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user})),n=Object(u.c)((function(e){return e.tags})),r=t.firstName+" "+t.lastName,i=t.email,s=Object(c.useState)(!0),o=Object(b.a)(s,2),l=o[0],p=o[1],x=Object(c.useState)([]),f=Object(b.a)(x,2),m=f[0],g=f[1],v=Object(c.useState)([]),y=Object(b.a)(v,2),w=y[0],N=y[1],S=Object(c.useState)(!1),T=Object(b.a)(S,2),k=T[0],_=T[1],A=Object(c.useState)(""),L=Object(b.a)(A,2),C=L[0],q=L[1];Object(c.useEffect)((function(){if(0===w.length&&0===m.length){var e=[];n.forEach((function(t){e.push(t._id)}));var a=e.filter((function(e){return-1===t.tags.indexOf(e)}));N(a),g(t.tags)}}),[w]);var z=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(new O.a).get("idToken"),t.next=3,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/add_tags",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:n})});case 3:return c=t.sent,t.next=6,c.json();case 6:(r=t.sent).error?"Please authenticate"!==r.error?q("Failure"):p(!1):(e(U(n)),q("Success")),_(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return!1===l?Object(a.jsx)(j.a,{path:"/"}):Object(a.jsx)(D.a,{children:Object(a.jsx)(W.a,{elevation:15,sx:{minHeight:750},children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)(M.a,{label:"Name",defaultValue:"".concat(r),InputProps:{readOnly:!0},fullWidth:!0,sx:{marginBottom:5,marginTop:5}}),Object(a.jsx)(M.a,{label:"Email",defaultValue:"".concat(i),InputProps:{readOnly:!0},fullWidth:!0}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsxs)(Q.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(G.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Subscribed tags"}),Object(a.jsx)(I.a,{sx:{minHeight:400,marginTop:2,minWidth:300},children:Object(a.jsx)("ul",{id:"tags",children:m.map((function(e,t){return Object(a.jsxs)("li",{className:"tag",children:[Object(a.jsx)("span",{className:"tag-title",children:e}),Object(a.jsx)("span",{className:"tag-close-icon",onClick:function(){return function(e){var t=m[e];g(Object(H.a)(m.filter((function(t,n){return n!==e}))));var n=w;n.push(t),N(n)}(t)},children:"x"})]},t)}))})})]}),Object(a.jsxs)(Q.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(G.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Other tags"}),Object(a.jsx)(I.a,{sx:{minHeight:400,marginTop:2},children:Object(a.jsx)("ul",{id:"tags",children:w.map((function(e,t){return Object(a.jsx)("li",{className:"tag",children:Object(a.jsx)("span",{className:"tag-title",onClick:function(e){return function(e){var t=w.indexOf(e);m.includes(e)||g([].concat(Object(H.a)(m),[e])),N(Object(H.a)(w.filter((function(e,n){return n!==t}))))}(e.target.innerText)},children:e})},t)}))})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{color:"Success"===C?"green":"red",paddingBottom:"5px",paddingLeft:"3em"},children:"Success"===C?"Tags subsribed!":"Failure"===C?"Tags not added. Please retry later!":C}),!1===k?Object(a.jsx)(J.a,{variant:"contained",color:"success",sx:{marginLeft:3},onClick:function(){_(!0),z(m)},children:"Subscribe Tags"}):Object(a.jsx)(V.a,{type:"Oval",color:"#00BFFF",height:45,width:45,visible:!0})]})]})]})})})}),K=n(210),X=n(292),$=n(293),ee=n(296),te=(n(195),function(){var e=Object(j.g)(),t=Object(u.c)((function(e){return e.user})),n=Object(u.c)((function(e){var t=[];return e.tags.forEach((function(e){t.push(e._id)})),t})),r=Object(c.useState)(!0),i=Object(b.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)({}),x=Object(b.a)(l,2),f=x[0],m=x[1],g=Object(c.useState)(""),v=Object(b.a)(g,2),y=v[0],S=v[1],T=Object(c.useState)({Finalquery:"",Finaltags:[]}),k=Object(b.a)(T,2),_=k[0],A=k[1],L=Object(c.useState)([]),C=Object(b.a)(L,2),q=C[0],z=C[1],P=Object(c.useState)([]),B=Object(b.a)(P,2),E=B[0],F=B[1],W=Object(c.useState)(!1),Q=Object(b.a)(W,2),J=Q[0],G=Q[1],M=Object(c.useState)(""),R=Object(b.a)(M,2),Y=R[0],U=R[1],Z=function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.a,a=t.get("idToken"),e.next=4,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/question",{method:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({question:y,email:f.email,tags:E})});case 4:return c=e.sent,e.next=7,c.json();case 7:"Please authenticate"===(r=e.sent).error?o(!1):(setTimeout((function(){A((function(e){return Object(p.a)(Object(p.a)({},e),{},{Finalquery:y,Finaltags:E})})),F([]),z(n),S("")}),0),setTimeout((function(){void 0===r.error?(G(!1),U("Success")):U("Failure")}),0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(0===q.length&&0===E.length){var e=Object(H.a)(n);z(e)}}),[q]),Object(c.useEffect)((function(){f!=={}&&m(t),""!==Y&&setTimeout((function(){U("")}),2500)}),[f,_,e]);return!1===s?Object(a.jsx)(j.a,{path:"/"}):Object(a.jsx)(D.a,{children:Object(a.jsx)(K.a,{elevation:15,sx:{minHeight:750},children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)(X.a,{}),Object(a.jsx)(w.a,{variant:"h4",align:"center",component:"h1",gutterBottom:!0,children:"Have a question?"}),Object(a.jsx)(w.a,{variant:"h5",align:"center",component:"h2",gutterBottom:!0,children:"Raise your query"}),Object(a.jsx)(w.a,{paragraph:!0,align:"center",children:"Add tags to your question for better reach"}),Object(a.jsx)(K.a,{style:{padding:16},children:Object(a.jsx)("form",{children:Object(a.jsxs)($.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(a.jsx)($.a,{item:!0,sm:12,xs:12,children:Object(a.jsx)(ee.a,{required:!0,error:""===y,helperText:""===y?"Cannot be left empty!":" ",label:"Note",type:"text",value:y,onChange:function(e){S(e.target.value)},fullWidth:!0,autoFocus:!0,multiline:!0,placeholder:"Ask Your Question Here"})}),Object(a.jsx)($.a,{item:!0,xs:12,style:{marginTop:36},children:Object(a.jsxs)($.a,{container:!0,spacing:2,children:[Object(a.jsxs)($.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(w.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Question tags"}),Object(a.jsx)(I.a,{sx:{minHeight:400,marginTop:2,minWidth:300},children:Object(a.jsx)("ul",{id:"tags",children:E.map((function(e,t){return Object(a.jsxs)("li",{className:"tag",children:[Object(a.jsx)("span",{className:"tag-title",children:e}),Object(a.jsx)("span",{className:"tag-close-icon",onClick:function(){return function(e){var t=E[e];F(Object(H.a)(E.filter((function(t,n){return n!==e}))));var n=q;n.push(t),z(n)}(t)},children:"x"})]},t)}))})})]}),Object(a.jsxs)($.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(w.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Other tags"}),Object(a.jsx)(I.a,{sx:{minHeight:400,marginTop:2},children:Object(a.jsx)("ul",{id:"tags",children:q.map((function(e,t){return Object(a.jsx)("li",{className:"tag",children:Object(a.jsx)("span",{className:"tag-title",onClick:function(e){return function(e){var t=q.indexOf(e);E.includes(e)||F([].concat(Object(H.a)(E),[e])),z(Object(H.a)(q.filter((function(e,n){return n!==t}))))}(e.target.innerText)},children:e})},t)}))})})]})]})}),Object(a.jsxs)($.a,{item:!0,style:{marginTop:10},children:[Object(a.jsx)("div",{style:{color:"Success"==Y?"green":"red",paddingBottom:"5px"},children:"Success"===Y?"Question posted successfully!":"Failure"===Y?"Question not posted. Please retry later!":Y}),!1===J?Object(a.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,onClick:function(e){""!==y&&(e.preventDefault(),G(!0),Z())},children:"Submit"}):Object(a.jsx)(V.a,{type:"Oval",color:"#00BFFF",height:45,width:45,visible:!0})]})]})})})]})})})}),ne=(n(196),n(197),n(294)),ae=(n(198),n(136)),ce=n.n(ae);var re=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){if(0===n.length){var e=(new O.a).get("idToken");(function(){var t=Object(h.a)(d.a.mark((function t(){var a,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/trending_questions",{method:"GET",headers:{"Content-Type":"applicaion/json",Authorization:"Bearer "+e}});case 2:return a=t.sent,t.next=5,a.json();case 5:(c=t.sent).error||(i=n.concat(c.questionList),r(i));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}})),Object(a.jsxs)("div",{className:"Widgets",children:[Object(a.jsxs)("div",{className:"Widgets__header",children:[Object(a.jsx)("div",{style:{color:"#c21808",fontSize:"20px",fontFamily:"inherit",textAlign:"center",textDecoration:"bold"},children:"Trending"}),Object(a.jsx)(ne.a,{})]}),n.map((function(e,t){var n=e.bloomIndexSum;return function(e,t){var n={pathname:"/question/".concat(e._id),state:{AuthorEmail:e.author.email,content:e.content,tags:e.tags,name:e.author.firstName+" "+e.author.lastName}};return Object(a.jsx)(o.b,{to:n,children:Object(a.jsxs)("div",{className:"widgets__Article",children:[Object(a.jsx)("div",{className:"widgets__Articleleft",children:Object(a.jsx)(ce.a,{})}),Object(a.jsxs)("div",{className:"widgets__Articleright",children:[Object(a.jsx)("h4",{children:e.content}),Object(a.jsx)("p",{children:t})]})]})})}(e,"".concat(n," Reaction").concat(1===n?"":"s"))}))]})},ie=n(299);var se=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(u.c)((function(e){return e.tags})),s=Object(u.b)(),j=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===n.length&&(i&&0!==i.length?r(Object(H.a)(i)):function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),e.next=3,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/all_tags",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 3:return n=e.sent,e.next=6,n.json();case 6:(a=e.sent).tagList&&(c=a.tagList,s({type:"INITIALIZE",payload:(i=c)?Object(H.a)(i):[]}),r(c));case 8:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}()());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()})),Object(a.jsx)(ie.a,{xsDown:!0,children:Object(a.jsxs)("div",{className:"Sidebar",children:[Object(a.jsx)("div",{className:"sidebar__button",children:Object(a.jsx)(re,{})}),Object(a.jsxs)("div",{className:"sidebar__button",children:[Object(a.jsx)("div",{style:{color:"#c21808",fontSize:"20px",fontFamily:"inherit",textAlign:"center",textDecoration:"bold"},children:"Tags"}),Object(a.jsx)(ne.a,{}),n.map((function(e){return t=e._id,Object(a.jsx)(o.b,{to:{pathname:"/tag_questions/".concat(t)},children:Object(a.jsxs)("div",{className:"sidebar__recentitem",children:[Object(a.jsx)("span",{className:"sidebar__hash",children:"#"}),Object(a.jsx)("p",{children:t})]})});var t}))]})]})})},oe=(n(199),Object(x.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:4e3},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}})));function je(e){var t=oe(),n=Object(c.useState)({}),r=Object(b.a)(n,2),i=r[0],s=r[1],j=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.a,n=t.get("idToken"),e.next=4,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/unanswered_question",{method:"GET",headers:{Authorization:"Bearer "+n,"Content-type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:!(c=e.sent).error&&c.question&&s(c.question);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){JSON.stringify(i)===JSON.stringify({})&&j()})),Object(a.jsx)($.a,{container:!0,xs:12,justify:"space-around",style:{minHeight:"20vh",maxWidth:"100%"},children:Object(a.jsx)($.a,{item:!0,md:3,alignItems:"center",children:JSON.stringify(i)!==JSON.stringify({})?Object(a.jsx)(o.b,{to:{pathname:"/question/".concat(i._id),state:{AuthorEmail:i.author.email,content:i.content,tags:i.tags,name:i.author.firstName+" "+i.author.lastName}},children:Object(a.jsx)(N.a,{variant:"contained",size:"large",color:"default",className:t.margin,children:"Random question"})}):Object(a.jsx)("div",{})})})}var ue=n(137),le=n.n(ue);n(201);var de=n(62),he=function(e){var t=new Date,n=new Date(e);if(de.a.isSameDay(t,n)){var a=de.a.format(t,"H"),c=de.a.format(n,"H");if(a===c){var r=parseInt(de.a.format(t,"m")-parseInt(de.a.format(n,"m")));return"Posted ".concat(r," minute").concat(1===r?"":"s"," ago")}return"Posted ".concat(a-c," hour").concat(a-c===1?"":"s"," ago")}return"Posted on ".concat(de.a.format(n,"DD-MM-YYYY"))},be=function(e){var t=e.questionData,n=t.author.email,c=t.content,r=t.tags,i="".concat(t.author.firstName,"  ").concat(t.author.lastName),s=t.createdAt,j=t._id,u={pathname:"/question/".concat(j),state:{AuthorEmail:n,content:c,tags:r,name:i,questionData:t}};return Object(a.jsx)(o.b,{to:u,children:Object(a.jsxs)("div",{className:"Post",children:[Object(a.jsxs)("div",{className:"post__header",children:[Object(a.jsx)(_.a,{}),Object(a.jsxs)("div",{className:"post__info",children:[Object(a.jsx)("h2",{children:i}),Object(a.jsx)("p",{children:n}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:he(s)})})]})]}),Object(a.jsx)("div",{className:"post__body",children:Object(a.jsx)("p",{children:c})}),Object(a.jsx)("div",{className:"post__tags",children:r.map((function(e,t){return Object(a.jsx)("div",{className:"tag-ele",children:e},t)}))})]})})},Oe=Object(x.a)((function(e){return{root:{padding:"2px 4px",display:"column",alignItems:"center",maxWidth:4e3,marginLeft:e.spacing(1)}}}));function pe(e){var t=Object(c.useState)(!0),n=Object(b.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)({feedList:[],skipPage:0,tagsQuestionListSaturated:!1,totalQuestionListSaturated:!1,feedFetchDateTime:(new Date).getTime()}),o=Object(b.a)(s,2),l=o[0],x=o[1],f=(Object(u.c)((function(e){return e.feed})),function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),n="https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/follows_questions?limit=5&skip="+l.skipPage+"&date="+l.feedFetchDateTime,e.next=4,fetch(n,{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:[],tagsQuestionListSaturated:l.tagsQuestionListSaturated})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).error?"Please authenticate!"===c.error&&i(!1):((r=Object(p.a)({},l)).tagsQuestionListSaturated=c.tagsQuestionListSaturated,r.totalQuestionListSaturated=c.totalQuestionListSaturated,0!==c.questionList.length&&(r.feedFetchDateTime=c.questionList[c.questionList.length-1].creationTime),r.feedList=r.feedList.concat(c.questionList),x(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),m=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new O.a).get("idToken"),a="/tag_questions?limit=5&skip="+l.skipPage+"&date="+l.feedFetchDateTime,e.next=4,fetch(a,{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:[t]})});case 4:return c=e.sent,e.next=7,c.json();case 7:(r=e.sent).error?"Please authenticate"===r.error&&i(!1):((s=Object(p.a)({},l)).totalQuestionListSaturated=r.questionListSaturated,0!==r.questionList.length&&(s.feedFetchDateTime=r.questionList[r.questionList.length-1].creationTime),s.feedList=s.feedList.concat(r.questionList),x(s));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Oe(),v=Object(a.jsx)("div",{className:"loader",style:{width:"100%",textAlign:"center"},children:Object(a.jsx)(N.a,{variant:"primary",style:{display:"inline-block"},disabled:!0,children:Object(a.jsx)(V.a,{type:"Puff",height:40,width:40,color:"#1D92FF"})})});return!1===r?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)("div",{className:g.root,children:Object(a.jsx)(le.a,{pageStart:0,loadMore:function(){"tag"===e.page?m(e.tag):f()},hasMore:!l.totalQuestionListSaturated,loader:v,threshold:0,children:Object(a.jsx)("div",{children:l.feedList.map((function(e,t){return Object(a.jsx)(be,{questionData:e},t)}))})})})}function xe(e){var t=Object(j.h)().tag,n=Object(c.useState)(void 0),r=Object(b.a)(n,2),i=r[0],s=r[1];return Object(c.useEffect)((function(){s(t)}),[i]),Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)($.a,{container:!0,children:[Object(a.jsx)($.a,{item:!0,xs:0,sm:2,children:Object(a.jsx)(se,{})}),Object(a.jsxs)($.a,{item:!0,xs:12,sm:10,children:[Object(a.jsx)("div",{className:"main_body",children:Object(a.jsx)(je,{style:{minheight:"15vh"}})}),Object(a.jsx)(pe,{page:e.page,tag:t},e.page+t)]})]})})}var fe=n(289),me=n(111),ge=n(112),ve=n(307),ye=(n(205),n(206),function(e){var t=e.location.state,n=t.AuthorEmail,r=t.content,i=t.name,s=t.tags,o=(t.questionData,Object(u.c)((function(e){return e.user}))),l=Object(j.h)().id,p=Object(c.useState)(!0),x=Object(b.a)(p,2),f=x[0],m=x[1],g=Object(c.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),T=S[0],k=S[1],_=Object(c.useState)([]),A=Object(b.a)(_,2),L=A[0],C=A[1],q=Object(c.useState)([]),z=Object(b.a)(q,2),P=z[0],B=z[1],E=Object(c.useState)([]),F=Object(b.a)(E,2),W=F[0],M=F[1],R=Object(c.useState)([]),V=Object(b.a)(R,2),Y=V[0],U=V[1],Z=Object(c.useRef)(null),K=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),n=l,e.next=4,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/question_answers?id="+n,{method:"GET",headers:{Authorization:"Bearer "+t,"Content-type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).error?"Please authenticate!"===c.error&&m(!1):(r=[],c.answers.forEach((function(e){var t={author:e.author.email,content:e.content,id:e._id,upvotes:e.upvotes,downvotes:e.downvotes};r.push(t)})),w(r),C(c.answersUpvoted),M(c.answersUpvoted),U(c.answersDownvoted),B(c.answersDownvoted),k(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(new O.a).get("idToken"),""===t){e.next=9;break}return e.next=4,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/upvote",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,answers:[t]})});case 4:return c=e.sent,e.next=7,c.json();case 7:"Please authenticate!"===e.sent.error&&m(!1);case 9:if(""===n){e.next=17;break}return e.next=12,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/downvote",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,answers:[n]})});case 12:return r=e.sent,e.next=15,r.json();case 15:"Please authenticate!"===e.sent.error&&m(!1);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){!1===T&&K()}),[T]);var $=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new O.a).get("idToken"),e.next=3,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/answer",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,question:l,answer:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).error?"Please authenticate!"===c.error&&m(!1):((r=Object(H.a)(y)).push({author:o.email,content:t,id:c.answer._id,upvotes:[],downvotes:[]}),w(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,"");case 2:n=Object(H.a)(L),a=Object(H.a)(P),-1===n.indexOf(t)&&n.push(t),-1!==(c=a.indexOf(t))&&a.splice(c,1),C(n),B(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("",t);case 2:n=Object(H.a)(L),a=Object(H.a)(P),-1!==(c=n.indexOf(t))&&n.splice(c,1),-1===a.indexOf(t)&&a.push(t),C(n),B(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!1===f?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)(D.a,{children:Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(Q.a,{item:!0,children:Object(a.jsx)(I.a,{sx:{minWidth:650},children:Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(G.a,{sx:{fontSize:15},color:"text.primary",children:Object(a.jsx)("b",{children:i})}),Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:Object(a.jsx)("b",{children:n})}),Object(a.jsx)(G.a,{variant:"h5",children:r}),Object(a.jsx)("br",{}),Object(a.jsx)(G.a,{variant:"body2"}),Object(a.jsx)("div",{className:"post__tags",children:s.map((function(e,t){return Object(a.jsx)("div",{className:"tag-ele",children:e},t)}))})]})})}),Object(a.jsx)(Q.a,{xs:12,sx:{minWidth:635,marginTop:5},children:y.map((function(e){var t=-1===L.indexOf(e.id)?0:1,n=-1===P.indexOf(e.id)?0:1,c=-1===W.indexOf(e.id)?0:1,r=-1===Y.indexOf(e.id)?0:1,i=e.upvotes.length-e.downvotes.length-(c-r)+t-n;return Object(a.jsx)(I.a,{style:{marginBottom:15},children:Object(a.jsxs)("div",{className:"answer-container",children:[Object(a.jsxs)("div",{className:"vote-container",children:[Object(a.jsx)(me.a,{className:"vote-icon",icon:ge.b,size:"2x",onClick:function(){ee(e.id)},cursor:"pointer",color:0===t?"black":"orange"}),Object(a.jsx)("div",{className:"vote-count-container",children:i}),Object(a.jsx)(me.a,{className:"vote-icon",icon:ge.a,size:"2x",onClick:function(){te(e.id)},cursor:"pointer",color:0===n?"black":"orange"})]}),Object(a.jsxs)(ve.a,{sx:{minHeight:50},children:[Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:Object(a.jsx)("b",{children:e.author})}),Object(a.jsx)(G.a,{sx:{fontSize:18,display:"inline-block"},color:"text.primary",children:e.content})]})]})})}))}),Object(a.jsxs)(Q.a,{item:!0,children:[Object(a.jsx)(G.a,{variant:"h5",style:{marginBottom:5},children:"Want to answer?"}),Object(a.jsxs)(I.a,{style:{marginBottom:15},sx:{minWidth:650},children:[Object(a.jsxs)(ve.a,{sx:{minHeight:50},children:[Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0}),Object(a.jsx)(fe.a,{ref:Z,style:{maxWidth:600,minWidth:600,maxHeight:300,minHeight:300,overflow:"auto"}})]}),Object(a.jsx)("div",{style:{marginBottom:4},children:Object(a.jsx)(J.a,{style:{textDecoration:"none",marginLeft:5,marginRight:5},variant:"contained",color:"primary",onClick:function(){var e=Z.current.value;""!==e&&$(e)},children:"Submit"})})]})]})]})})});function we(){return Object(a.jsx)(o.a,{basename:"curiosite",children:Object(a.jsx)(j.d,{children:Object(a.jsxs)(F,{children:[Object(a.jsx)(j.b,{path:"/",exact:!0,children:Object(a.jsx)(xe,{page:"home"})}),Object(a.jsx)(j.b,{path:"/tag_questions/:tag",children:Object(a.jsx)(xe,{page:"tag"})}),Object(a.jsx)(j.b,{path:"/profile",children:Object(a.jsx)(Z,{})}),Object(a.jsx)(j.b,{path:"/create_post",children:Object(a.jsx)(te,{})}),Object(a.jsx)(j.b,{component:ye,path:"/question/:id",exact:!0}),Object(a.jsx)(j.b,{path:"*",children:Object(a.jsx)(j.a,{to:"/"})})]})})})}var Ne=n(57),Se=n(138),Te={firstName:"",lastName:"",email:"",id:"",tags:[]},ke={type:"HOME"},_e=[],Ae=Object(Ne.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(p.a)({},t.payload);case"LOGOUT":return{initialState:Te};case"PATCH TAGS":return Object(p.a)(Object(p.a)({},e),{},{tags:t.payload});default:return e}},feed:function(){var e=arguments.length>1?arguments[1]:void 0;return void 0!==e.type?Object(p.a)({},e):Object(p.a)({},ke)},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE":return t.payload?t.payload:[];default:return e}}}),Le=[Se.a],Ce=Object(Ne.e)(Ae,{},Object(Ne.d)(Ne.a.apply(void 0,Le)));function qe(){return Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{store:Ce,children:Object(a.jsx)(we,{})})})}n(207);function ze(){return Object(a.jsx)($.a,{container:!0,xs:12,sm:12,className:"mainBody",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"form-box",children:[Object(a.jsxs)("div",{className:"header-form",children:[Object(a.jsx)("h4",{className:"text-primary text-center",children:Object(a.jsx)("i",{className:"fa fa-user-circle",style:{fontSize:"110px",color:"white"}})}),Object(a.jsx)("div",{className:"image"})]}),Object(a.jsx)("div",{className:"body-form",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{style:{fontSize:"70px",color:"#c21808",letterSpacing:"1px"},children:" Curiosite "})}),Object(a.jsx)("div",{id:"login-motto",children:Object(a.jsx)("b",{children:"To Ask. To Answer."})})]}),Object(a.jsx)("div",{id:"warning-motto",children:Object(a.jsx)("b",{style:{color:"#c21808"},children:"Please use Institute E-mail to Login"})}),Object(a.jsx)("div",{id:"login-button-section"})]})})]})})})}function Pe(){return Object(a.jsx)("div",{id:"login-section",children:Object(a.jsx)(ze,{})})}function Be(){var e=Object(u.b)(),t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(b.a)(s,2),j=o[0],l=o[1];Object(u.c)((function(e){return e.user}));return Object(c.useEffect)((function(){if(!1===r)var e=new O.a,t=setInterval((function(){e.get("idToken")&&(l(!0),clearInterval(t))}),100)}),[r]),Object(c.useEffect)((function(){(function(){var t=Object(h.a)(d.a.mark((function t(){var n,a,c,r,s,o,u,h,b;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j){t.next=10;break}return n=(new O.a).get("idToken"),l(!1),t.next=5,fetch("https://xha59eviig.execute-api.ap-south-1.amazonaws.com/prod/googleAuth",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"}});case 5:return a=t.sent,t.next=8,a.json();case 8:(c=t.sent).error||(r=c.user,s=r.firstName,o=r.lastName,u=r.email,h=r.id,b=r.tags,e(Y(s,o,u,h,b)),e({type:"HOME",tags:[]}),i(!0));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[j]),!1===r?Object(a.jsx)(Pe,{}):Object(a.jsx)(qe,{})}n(208);var Ee=function(){return Object(a.jsx)(u.a,{store:Ce,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(j.b,{component:Be,path:"/"})})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Ee,{})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.0698042d.chunk.js.map